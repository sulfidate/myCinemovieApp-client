<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: LoginView/login-view.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: LoginView/login-view.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from 'react'
import PropTypes from 'prop-types'
import {
  Form,
  Button,
  Container,
  Row,
  Col,
  Card,
  CardGroup,
  Navbar,
} from 'react-bootstrap'
import { FooterView } from '../FooterView/footer-view'
import './login-view.scss'
import axios from 'axios'
import { Link } from 'react-router-dom'

/**
 * LoginView component
 * @Component {object} props
 *  @param {string} props.username - username
 * @param {string} props.password - password
 * @param {string} props.btnDisabled - btnDisabled
 * @param {string} props.usernameErr - usernameErr
 * @param {string} props.passwordErr - passwordErr
 * @param {string} props.setUsername - setUsername
 * @param {string} props.setPassword - setPassword
 * @param {string} props.setBtnDisabled - setBtnDisabled
 * @param {string} props.setUsernameErr - setUsernameErr
 * @param {string} props.setPasswordErr - setPasswordErr
 */
export default function LoginView(props) {
  const [username, setUsername] = useState('')
  const [password, setPassword] = useState('')
  const [usernameErr, setUsernameErr] = useState('')
  const [passwordErr, setPasswordErr] = useState('')
  const [btnDisabled, setBtnDisabled] = useState(true)
  const [message1, setMessage1] = useState('')
  const [message2, setMessage2] = useState('')

  /**
   * Function to handle the username input
   * @function handleSubmit - login form submit username
   * @param {object} event
   * @returns {object} event
   */
  const handleTextChange1 = (e) => {
    if (!username) {
      setBtnDisabled(true)
      setUsernameErr('Username Required')
    } else if (username.length &lt; 7) {
      setUsernameErr('Username must be at least 8 characters long')
      setBtnDisabled(true)
    } else {
      setUsernameErr(null)
    }
    setUsername(e.target.value)
  }

  /**
   * Function to handle the password input
   * @function handleSubmit - login form submit password
   * @param {object} e
   */
  const handleTextChange2 = (e) => {
    if (!password) {
      setBtnDisabled(true)
      setPasswordErr('Password Required')
    } else if (password.length &lt; 5) {
      setPasswordErr('Password must be at least 6 characters long')
      setBtnDisabled(true)
    } else {
      setUsernameErr(null)
      setPasswordErr(null)
      setBtnDisabled(false)
    }
    setPassword(e.target.value)
  }

  /**
   * Function to handle the submit button
   * @function handleSubmit
   * @param {object} e
   */
  const validate = () => {
    let isReq = true
    if (!username) {
      setUsernameErr('Username Required')
      isReq = false
    } else if (username.length &lt; 8) {
      setUsernameErr('Username must be at least 8 characters long')
      isReq = false
    }
    if (!password) {
      setPasswordErr('Password Required')
      isReq = false
    } else if (password.length &lt; 6) {
      setPasswordErr('Password must be at least 6 characters long')
      isReq = false
    }
    return isReq
  }

  /**
   * Function to handle the submit buttonm and send the data to the server for authentication and authorization of the user
   * @event handleSubmit
   * @param {object} e
   *
   */
  const handleSubmit = (e) => {
    e.preventDefault()
    const isReq = validate()
    if (isReq) {
      /* Send a request to the server for authentication */
      axios
        .post('https://mycinemoviedatabase.herokuapp.com/login', {
          Username: username,
          Password: password,
        })
        .then((response) => {
          const data = response.data
          props.onLoggedIn(data)
        })
        .catch((e) => {
          alert(
            'User is not registered or password is wrong! -> please register or try again with correct user information. Thanks for using our App!'
          )
        })
    }
  }

  return (
    &lt;Container>
      &lt;Container>
        &lt;Navbar className='header-view' variant='dark' bg='info' fixed='top'>
          &lt;Container>
            &lt;Navbar.Brand>myCineMovieApp&lt;/Navbar.Brand>
          &lt;/Container>

          &lt;Navbar.Text>
            &lt;Link to={'/register'}>
              &lt;Button variant='light link' style={{ color: '#17A2B8' }}>
                Register
              &lt;/Button>
            &lt;/Link>
          &lt;/Navbar.Text>
        &lt;/Navbar>
      &lt;/Container>

      &lt;Row
        className='login-view justify-content-center'
        style={{ margin: '7rem 1rem 7rem 1rem' }}
      >
        &lt;Col>&lt;/Col>
        &lt;Col xs={11} sm={11} md={8} lg={6} xl={6} xxl={6}>
          &lt;CardGroup>
            &lt;Card bg='light' key='' text='info' className='mb-2' border='info'>
              &lt;Card.Header as='h3'>Login&lt;/Card.Header>

              &lt;Card.Body>
                &lt;Form>
                  &lt;Form.Group className='mb-3' controlId='formLoginUsername'>
                    &lt;Form.Label className='form-label colorInfo'>
                      Username
                    &lt;/Form.Label>
                    &lt;Form.Control
                      style={{ fontSize: 'small' }}
                      type='text'
                      placeholder='Please login with username'
                      value={username}
                      onBlur={handleTextChange1}
                      onChange={handleTextChange1}
                      required
                      minLength={8}
                    />
                    &lt;Form.Text className='text-muted'>
                      {usernameErr &amp;&amp; (
                        &lt;p style={{ color: 'red' }}>{usernameErr}&lt;/p>
                      )}
                    &lt;/Form.Text>
                  &lt;/Form.Group>

                  &lt;Form.Group className='mb-3' controlId='formLoginPassword'>
                    &lt;Form.Label className='form-label colorInfo'>
                      Password
                    &lt;/Form.Label>
                    &lt;Form.Control
                      style={{ fontSize: 'small' }}
                      type='password'
                      placeholder='Enter your password'
                      value={password}
                      onBlur={handleTextChange2}
                      onChange={handleTextChange2}
                      required
                      minLength={6}
                    />
                    &lt;Form.Text>&lt;/Form.Text>
                    &lt;Form.Text className='text-muted'>
                      {passwordErr &amp;&amp; (
                        &lt;p style={{ color: 'red' }}>{passwordErr}&lt;/p>
                      )}
                    &lt;/Form.Text>
                  &lt;/Form.Group>

                  &lt;Button
                    variant='info'
                    type='submit'
                    onClick={handleSubmit}
                    disabled={btnDisabled}
                  >
                    Log in
                  &lt;/Button>
                &lt;/Form>
              &lt;/Card.Body>
            &lt;/Card>
          &lt;/CardGroup>
        &lt;/Col>
        &lt;Col>&lt;/Col>
      &lt;/Row>

      &lt;FooterView />
    &lt;/Container>
  )
}

/**
 * LoginView component prop types
 * @description PropTypes
 * @type {PropTypes}
 */
LoginView.propTypes = {
  username: PropTypes.string,
  password: PropTypes.string,
  onLoggedIn: PropTypes.func.isRequired,
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:handleSubmit">handleSubmit</a></li><li><a href="global.html#event:handleSubmit-registrationform">handleSubmit - registration form</a></li><li><a href="global.html#event:%257BaddFavMovie%257D">{addFavMovie}</a></li><li><a href="global.html#event:%257BcheckIfMovieIsInFavorites%257D">{checkIfMovieIsInFavorites}</a></li><li><a href="global.html#event:%257BdeleteUser%257D">{deleteUser}</a></li><li><a href="global.html#event:%257BeditUserData%257D">{editUserData}</a></li><li><a href="global.html#event:%257BremoveFavMovie%257D">{removeFavMovie}</a></li></ul><h3>Global</h3><ul><li><a href="global.html#addFavMovie">addFavMovie</a></li><li><a href="global.html#componentDidMount">componentDidMount</a></li><li><a href="global.html#getMovies">getMovies</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li><li><a href="global.html#handleSubmit-loginformsubmitpassword">handleSubmit - login form submit password</a></li><li><a href="global.html#handleSubmit-loginformsubmitusername">handleSubmit - login form submit username</a></li><li><a href="global.html#onLoggedIn">onLoggedIn</a></li><li><a href="global.html#onLoggedOut">onLoggedOut</a></li><li><a href="global.html#setBirthday">setBirthday</a></li><li><a href="global.html#setEmail">setEmail</a></li><li><a href="global.html#setPassword">setPassword</a></li><li><a href="global.html#setUsername">setUsername</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Jun 07 2022 21:29:13 GMT+0200 (Mitteleurop√§ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
